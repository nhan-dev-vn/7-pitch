angular.module("rt.eventemitter", []).factory("eventEmitter", function () { function a(a, b, c) { "string" == typeof a && (c = b, b = a, a = null), this[e] || (this[e] = {}); var d = this[e]; d[b] || (d[b] = []), d[b].push(c); var f = this; return a && a.$on("$destroy", function () { f.off(b, c) }), this } function b(a, b, c) { "string" == typeof a && (c = b, b = a, a = null); var d = this, e = function () { c.apply(this, arguments), d.off(b, e) }; return this.on(a, b, e), this } function c(a, b) { if (!this[e] || !this[e][a]) return this; var c = this[e]; if (b) { var d = c[a], f = d.indexOf(b); f > -1 && d.splice(f, 1) } else delete c[a]; return this } function d(a) { if (this[e] && this[e][a]) { for (var b = this[e][a].slice(0), c = [].slice.call(arguments, 1), d = 0; d < b.length; d++)b[d].apply(null, c); return this } } var e = "$$tinyEventListeners"; return { inject: function (e) { var f = e.prototype || e; f.on = a, f.once = b, f.off = c, f.emit = d } } });